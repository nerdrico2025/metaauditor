Ei Replit AI, preciso corrigir três erros de autenticação no meu app (ferramenta de auditoria de criativos para Meta/Google Ads). O app usa React com TypeScript no frontend (Vite, Tailwind, Radix UI, Context API para estado), Express.js com TypeScript no backend (porta 5000), PostgreSQL com Drizzle ORM, e autenticação própria com JWT e bcrypt. Há um usuário master: rafael@clickhero.com.br (senha X@drez13, role 'administrador'). Analise meu código atual (especialmente AuthContext, rotas de login/logoff, componentes de login e dashboard) e resolva os seguintes problemas em definitivo, aplicando edições diretamente nos arquivos relevantes. Teste as mudanças em dev e deploy para confirmar.

Problema 1: A tela de login não mostra os campos de email e senha. Em vez disso, mostra uma mensagem de que o usuário já está logado e um botão "ENTRAR". O correto é: se o usuário já estiver logado (token válido no localStorage ou AuthContext), redirecione automaticamente para o dashboard (/dashboard). Só mostre os campos de login se não houver sessão ativa.

Problema 2: Dentro do app, ao clicar no botão de sair/logoff, o usuário não é desconectado. O logoff deve limpar o token do localStorage, resetar o estado no AuthContext, e redirecionar para a tela de login.

Problema 3: Mesmo logando com rafael@clickhero.com.br, o rodapé do menu mostra que o usuário conectado é "demo@clickauditor.com". Esse usuário demo não é mais necessário – delete-o do banco de dados (via Drizzle ORM) e garanta que o rodapé exiba o email correto do usuário logado (do token JWT ou AuthContext). O usuário rafael@clickhero.com.br deve ser o único inicial, e seu role 'administrador' deve ser protegido.

Instruções para resolver sozinho:
1. Analise arquivos como Login.tsx, AuthContext.tsx, App.tsx (para roteamento com useNavigate), server.ts (para rota de logoff se existir), e schema.ts (para banco).
2. Para Problema 1: No componente de login, adicione uma verificação no useEffect: se token existir e for válido (verifique com jwt-decode ou API), use useNavigate para redirecionar para dashboard. Remova qualquer mensagem/button incorreto.
3. Para Problema 2: Crie ou atualize a função de logoff no AuthContext: limpe localStorage.removeItem('token'), reset state (setUser(null)), e redirecione para /login. Se houver rota backend para logoff, chame-a para invalidar token server-side.
4. Para Problema 3: Rode um script Drizzle para deletar o usuário "demo@clickauditor.com" do banco (ex: await db.delete(users).where(eq(users.email, 'demo@clickauditor.com'))). No rodapé, puxe o email do estado atual (AuthContext) em vez de hardcode. Garanta que o token JWT inclua o email correto ao logar.
5. Atualize qualquer seed inicial para incluir apenas o usuário rafael@clickhero.com.br.
6. Forneça código editado para cada fix e um teste: ex., logue com rafael, verifique redirecionamento, rodapé correto, e logoff funcional em dev e deploy.
7. Se precisar de dependências (ex: jwt-decode), instale-as via package.json.

Aplique as mudanças diretamente nos arquivos e confirme que tudo funciona sem erros. Vamos fixar isso agora!